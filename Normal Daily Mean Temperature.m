close all;
clear all; 
clc;

img = imread('maps_tristate.png');

heat_map = zeros(505,596);

x_cordinates = [414 434 415 347 405 352 492 410 358 285 138 186 266 229 222];
y_cordinates = [119 82 181 196 150 92 126 335 322 336 435 325 157 219 110];

data1=[25.2 25.7 28.3 26.3 24.3 23.9 24.9 33.9 32 33 32.9 31 23.6 26.5 23.4;28.3 28.4 32 30.3 27.3 27 27.7 37.9 36.4 37.6 38.1 35.8 27.3 31.2 27.3;37.7 37.5 42 40.2 36.7 37.2 36.7 47.1 45.6 46.9 47.6 45.8 38.1 41.7 37.5;48.1 47.6 52 50.6 47.2 48.3 47.4 56.3 54.6 56.4 57 55.5 49 52 48.3;58.8 58.5 62.6 61.2 58 59.6 57.6 64.1 63.8 65.8 65.9 65.6 60.4 62.6 59.6;67.5 67.5 71.2 70.2 66.8 68.8 65.9 71.4 72.2 74.2 74.5 74.8 69.7 71.7 69;71.8 71.9 75.1 74.3 71 73 69.9 75 76.1 78.4 78.2 78.6 73.4 75.4 73;70.3 70.2 73.5 72.3 69.3 70.8 68.4 73.8 74.8 77 76.2 76.5 71.1 73.5 71;63 63.3 66.5 65.1 62.6 63.5 61.5 67.9 68 70.1 69.1 69.1 64.1 66.3 63.4;51.6 52.2 54.7 53.5 51.5 51.8 50.8 57.5 56.6 58.5 58 57.3 52.4 54.6 52.1;41.1 41.8 43.7 42.2 40.5 40.5 40.7 47.7 45.9 47.6 46.8 45.9 40.6 42.9 40.1;30.7 31.1 33.5 31.4 29.6 29.2 30.4 38.3 36.3 37.6 36.9 35.6 29 31.6 28.7];

for i=1:12
    heat_map = zeros(505,596);
    for j=1:15
        heat_map(y_cordinates(j),x_cordinates(j)) = data1(i,j);   
    end

    % Generate the density map
    gaussian_kernel = fspecial('gaussian', [100 100], 20);
    density = imfilter(heat_map, gaussian_kernel, 'replicate');

    % Generate the heat map
    omask = heatmap_overlay(img, density, 'jet');
    set(figure(1), 'Position', [250 300 596 505]);

    if(i==1)
        imshow(omask,[]);
    else
        figure, imshow(omask,[]);
    end
    
    colormap(jet);
    colorbar;
    hold on;
end

hold off;
